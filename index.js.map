{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // =========================================\n  // 1. LENIS SMOOTH SCROLL (Плавный скролл)\n  // =========================================\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      direction: 'vertical',\n      smooth: true,\n      smoothTouch: false, // На мобильных лучше оставить нативный скролл\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // =========================================\n  // 2. AOS INIT (Анимации при скролле)\n  // =========================================\n  AOS.init({\n      duration: 800,  // Длительность анимации (ms)\n      once: true,     // Анимация проигрывается только один раз\n      offset: 50,     // Отступ от низа экрана до начала анимации\n      easing: 'ease-out-cubic'\n  });\n\n  // =========================================\n  // 3. UI LOGIC (Меню, Хедер, Год)\n  // =========================================\n\n  // --- Mobile Menu Toggle ---\n  const navMenu = document.getElementById('nav-menu');\n  const navToggle = document.getElementById('nav-toggle');\n  const navClose = document.getElementById('nav-close');\n  const navLinks = document.querySelectorAll('.header__link');\n\n  if(navToggle) {\n      navToggle.addEventListener('click', () => {\n          navMenu.classList.add('active');\n      });\n  }\n\n  if(navClose) {\n      navClose.addEventListener('click', () => {\n          navMenu.classList.remove('active');\n      });\n  }\n\n  // Закрываем меню при клике на ссылку\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          navMenu.classList.remove('active');\n      });\n  });\n\n  // --- Dynamic Year (Footer) ---\n  const yearSpan = document.getElementById('year');\n  if (yearSpan) {\n      yearSpan.textContent = new Date().getFullYear();\n  }\n\n  // --- Header Shadow on Scroll ---\n  const header = document.getElementById('header');\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 50) {\n          header.style.boxShadow = \"0 4px 20px rgba(0,0,0,0.05)\";\n          header.style.background = \"rgba(255, 255, 255, 0.95)\";\n      } else {\n          header.style.boxShadow = \"none\";\n          header.style.background = \"rgba(255, 255, 255, 0.9)\";\n      }\n  });\n\n  // =========================================\n  // 4. HERO SECTION ANIMATIONS (GSAP)\n  // =========================================\n\n  // Проверяем, есть ли Hero секция, чтобы избежать ошибок\n  const heroTitleEl = document.getElementById('hero-title');\n\n  if (heroTitleEl) {\n      // A. Разбиваем текст заголовка на буквы\n      const heroTitle = new SplitType('#hero-title', { types: 'chars' });\n\n      // B. Timeline анимации появления\n      const tl = gsap.timeline({ defaults: { ease: 'power4.out' } });\n\n      tl.from(heroTitle.chars, {\n          y: 100,\n          opacity: 0,\n          stagger: 0.05, // Задержка между буквами\n          duration: 1,\n          delay: 0.2\n      })\n      .to('.hero__desc', {\n          y: 0,\n          opacity: 1,\n          duration: 0.8\n      }, \"-=0.5\") // Запускаем чуть раньше окончания предыдущей анимации\n      .to('.hero__actions', {\n          y: 0,\n          opacity: 1,\n          duration: 0.8\n      }, \"-=0.6\")\n      .to('.hero__stats', {\n          opacity: 1,\n          duration: 0.8\n      }, \"-=0.6\")\n      .fromTo('.hero__visual',\n          { x: 50, opacity: 0 }, // Начальное состояние\n          { x: 0, opacity: 1, duration: 1.2 }, \"-=1\"\n      );\n\n      // C. Parallax Effect on Mouse Move\n      const heroSection = document.getElementById('hero');\n      const heroVisual = document.getElementById('hero-visual');\n\n      if (heroSection && heroVisual) {\n          heroSection.addEventListener('mousemove', (e) => {\n              // Работает только на десктопах (>900px) для производительности\n              if(window.innerWidth > 900) {\n                  const x = (window.innerWidth - e.pageX * 2) / 50;\n                  const y = (window.innerHeight - e.pageY * 2) / 50;\n\n                  gsap.to(heroVisual, {\n                      x: x,\n                      y: y,\n                      duration: 0.5,\n                      ease: 'power2.out'\n                  });\n              }\n          });\n      }\n  }\n\n  // =========================================\n    // 5. CONTACT FORM LOGIC\n    // =========================================\n\n    // A. Генерация Math Captcha\n    const captchaQuestion = document.getElementById('captcha-question');\n    const num1 = Math.floor(Math.random() * 10) + 1; // 1-10\n    const num2 = Math.floor(Math.random() * 10) + 1; // 1-10\n    const correctAnswer = num1 + num2;\n\n    if (captchaQuestion) {\n        captchaQuestion.textContent = `${num1} + ${num2}`;\n    }\n\n    // B. Обработка отправки\n    const form = document.getElementById('contact-form');\n    const submitBtn = document.getElementById('submit-btn');\n    const successMsg = document.getElementById('success-message');\n\n    if (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault(); // Останавливаем перезагрузку\n\n            // Сброс ошибок\n            document.querySelectorAll('.form-input').forEach(input => input.classList.remove('error'));\n\n            let isValid = true;\n\n            // 1. Валидация имени\n            const nameInput = document.getElementById('name');\n            if (nameInput.value.trim().length < 2) {\n                nameInput.classList.add('error');\n                isValid = false;\n            }\n\n            // 2. Валидация Email\n            const emailInput = document.getElementById('email');\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailRegex.test(emailInput.value)) {\n                emailInput.classList.add('error');\n                isValid = false;\n            }\n\n            // 3. Валидация телефона (просто наличие)\n            const phoneInput = document.getElementById('phone');\n            if (phoneInput.value.trim().length < 6) {\n                phoneInput.classList.add('error');\n                isValid = false;\n            }\n\n            // 4. Проверка Captcha\n            const captchaInput = document.getElementById('captcha');\n            if (parseInt(captchaInput.value) !== correctAnswer) {\n                captchaInput.classList.add('error');\n                document.getElementById('error-captcha').textContent = 'Неверная сумма';\n                isValid = false;\n            }\n\n            // 5. Чекбокс (HTML5 required уже проверяет, но на всякий случай)\n            const policyCheck = document.getElementById('policy');\n            if (!policyCheck.checked) {\n                isValid = false;\n                alert('Пожалуйста, подтвердите согласие с политикой конфиденциальности');\n            }\n\n            if (isValid) {\n                // Имитация отправки (AJAX)\n                submitBtn.classList.add('loading');\n                submitBtn.disabled = true;\n\n                setTimeout(() => {\n                    submitBtn.classList.remove('loading');\n                    form.reset(); // Очищаем форму\n                    successMsg.classList.add('active'); // Показываем успех\n\n                    // (Опционально) Через 5 секунд вернуть форму?\n                    // setTimeout(() => successMsg.classList.remove('active'), 5000);\n\n                }, 1500); // 1.5 секунды задержка\n            }\n        });\n    }\n    // =========================================\n    // 6. COOKIE POPUP LOGIC\n    // =========================================\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieAcceptBtn = document.getElementById('cookie-accept');\n\n    // Проверяем, есть ли запись в LocalStorage\n    if (!localStorage.getItem('cookieAccepted')) {\n        // Если нет, показываем через 2 секунды\n        setTimeout(() => {\n            cookiePopup.classList.add('active');\n        }, 2000);\n    }\n\n    if (cookieAcceptBtn) {\n        cookieAcceptBtn.addEventListener('click', () => {\n            // Сохраняем согласие\n            localStorage.setItem('cookieAccepted', 'true');\n            // Скрываем попап\n            cookiePopup.classList.remove('active');\n        });\n    }\n});\n"],"names":["lenis","t","raf","time","navMenu","navToggle","navClose","navLinks","link","yearSpan","header","heroTitle","heroSection","heroVisual","e","x","y","captchaQuestion","num1","num2","correctAnswer","form","submitBtn","successMsg","input","isValid","nameInput","emailInput","phoneInput","captchaInput","cookiePopup","cookieAcceptBtn"],"mappings":"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"}