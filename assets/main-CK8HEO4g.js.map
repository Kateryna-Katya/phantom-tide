{"version":3,"file":"main-CK8HEO4g.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // =========================================\n    // 1. LENIS SMOOTH SCROLL (Плавный скролл)\n    // =========================================\n    // Инициализация только если библиотека подключена\n    if (typeof Lenis !== 'undefined') {\n        const lenis = new Lenis({\n            duration: 1.2,\n            easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n            direction: 'vertical', \n            smooth: true,\n            smoothTouch: false, // На мобильных лучше оставить нативный скролл\n        });\n\n        function raf(time) {\n            lenis.raf(time);\n            requestAnimationFrame(raf);\n        }\n        requestAnimationFrame(raf);\n    }\n\n    // =========================================\n    // 2. AOS INIT (Анимации при скролле)\n    // =========================================\n    if (typeof AOS !== 'undefined') {\n        AOS.init({\n            duration: 800,  // Длительность анимации (ms)\n            once: true,     // Анимация проигрывается только один раз\n            offset: 50,     // Отступ от низа экрана до начала анимации\n            easing: 'ease-out-cubic'\n        });\n    }\n\n    // =========================================\n    // 3. UI LOGIC (Меню, Хедер, Год)\n    // =========================================\n    \n    // --- Mobile Menu Toggle ---\n    const navMenu = document.getElementById('nav-menu');\n    const navToggle = document.getElementById('nav-toggle');\n    const navClose = document.getElementById('nav-close');\n    const navLinks = document.querySelectorAll('.header__link');\n\n    if (navToggle && navMenu) {\n        navToggle.addEventListener('click', () => {\n            navMenu.classList.add('active');\n        });\n    }\n\n    if (navClose && navMenu) {\n        navClose.addEventListener('click', () => {\n            navMenu.classList.remove('active');\n        });\n    }\n\n    // Закрываем меню при клике на ссылку\n    navLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (navMenu) navMenu.classList.remove('active');\n        });\n    });\n\n    // --- Dynamic Year (Footer) ---\n    const yearSpan = document.getElementById('year');\n    if (yearSpan) {\n        yearSpan.textContent = new Date().getFullYear();\n    }\n    \n    // --- Header Shadow on Scroll ---\n    const header = document.getElementById('header');\n    if (header) {\n        window.addEventListener('scroll', () => {\n            if (window.scrollY > 50) {\n                header.style.boxShadow = \"0 4px 20px rgba(0,0,0,0.05)\";\n                header.style.background = \"rgba(255, 255, 255, 0.95)\";\n            } else {\n                header.style.boxShadow = \"none\";\n                header.style.background = \"rgba(255, 255, 255, 0.9)\";\n            }\n        });\n    }\n\n    // =========================================\n    // 4. HERO SECTION ANIMATIONS (GSAP)\n    // =========================================\n    // Проверяем наличие элемента, чтобы скрипт не ломался на других страницах\n    const heroTitleEl = document.getElementById('hero-title');\n    \n    if (heroTitleEl && typeof gsap !== 'undefined' && typeof SplitType !== 'undefined') {\n        \n        // A. Разбиваем текст заголовка на буквы\n        const heroTitle = new SplitType('#hero-title', { types: 'chars' });\n        \n        // B. Timeline анимации появления\n        const tl = gsap.timeline({ defaults: { ease: 'power4.out' } });\n\n        tl.from(heroTitle.chars, {\n            y: 100,\n            opacity: 0,\n            stagger: 0.05, // Задержка между буквами\n            duration: 1,\n            delay: 0.2\n        })\n        .to('.hero__desc', {\n            y: 0,\n            opacity: 1,\n            duration: 0.8\n        }, \"-=0.5\") \n        .to('.hero__actions', {\n            y: 0,\n            opacity: 1,\n            duration: 0.8\n        }, \"-=0.6\")\n        .to('.hero__stats', {\n            opacity: 1,\n            duration: 0.8\n        }, \"-=0.6\")\n        .fromTo('.hero__visual', \n            { x: 50, opacity: 0 }, \n            { x: 0, opacity: 1, duration: 1.2 }, \"-=1\"\n        );\n\n        // C. Parallax Effect on Mouse Move\n        const heroSection = document.getElementById('hero');\n        const heroVisual = document.getElementById('hero-visual');\n\n        if (heroSection && heroVisual) {\n            heroSection.addEventListener('mousemove', (e) => {\n                // Работает только на десктопах (>900px) для производительности\n                if(window.innerWidth > 900) {\n                    const x = (window.innerWidth - e.pageX * 2) / 50;\n                    const y = (window.innerHeight - e.pageY * 2) / 50;\n\n                    gsap.to(heroVisual, {\n                        x: x,\n                        y: y,\n                        duration: 0.5,\n                        ease: 'power2.out'\n                    });\n                }\n            });\n        }\n    }\n\n    // =========================================\n    // 5. CONTACT FORM LOGIC\n    // =========================================\n    const form = document.getElementById('contact-form');\n    \n    if (form) {\n        // A. Генерация Math Captcha\n        const captchaQuestion = document.getElementById('captcha-question');\n        const num1 = Math.floor(Math.random() * 10) + 1; // 1-10\n        const num2 = Math.floor(Math.random() * 10) + 1; // 1-10\n        const correctAnswer = num1 + num2;\n        \n        if (captchaQuestion) {\n            captchaQuestion.textContent = `${num1} + ${num2}`;\n        }\n\n        // B. Обработка отправки\n        const submitBtn = document.getElementById('submit-btn');\n        const successMsg = document.getElementById('success-message');\n\n        form.addEventListener('submit', (e) => {\n            e.preventDefault(); // Останавливаем перезагрузку\n            \n            // Сброс ошибок\n            document.querySelectorAll('.form-input').forEach(input => input.classList.remove('error'));\n            \n            let isValid = true;\n            \n            // 1. Валидация имени\n            const nameInput = document.getElementById('name');\n            if (nameInput.value.trim().length < 2) {\n                nameInput.classList.add('error');\n                isValid = false;\n            }\n\n            // 2. Валидация Email\n            const emailInput = document.getElementById('email');\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailRegex.test(emailInput.value)) {\n                emailInput.classList.add('error');\n                isValid = false;\n            }\n\n            // 3. Валидация телефона (длина)\n            const phoneInput = document.getElementById('phone');\n            if (phoneInput.value.trim().length < 6) {\n                phoneInput.classList.add('error');\n                isValid = false;\n            }\n\n            // 4. Проверка Captcha\n            const captchaInput = document.getElementById('captcha');\n            if (parseInt(captchaInput.value) !== correctAnswer) {\n                captchaInput.classList.add('error');\n                document.getElementById('error-captcha').textContent = 'Неверная сумма';\n                isValid = false;\n            }\n\n            // 5. Чекбокс\n            const policyCheck = document.getElementById('policy');\n            if (!policyCheck.checked) {\n                isValid = false;\n                alert('Пожалуйста, подтвердите согласие с политикой конфиденциальности');\n            }\n\n            if (isValid) {\n                // Имитация отправки (AJAX)\n                submitBtn.classList.add('loading');\n                submitBtn.disabled = true;\n\n                setTimeout(() => {\n                    submitBtn.classList.remove('loading');\n                    form.reset(); // Очищаем форму\n                    \n                    // Показываем сообщение об успехе\n                    successMsg.classList.add('active'); \n                    \n                    // Генерируем новую капчу для следующего раза\n                    const n1 = Math.floor(Math.random() * 10) + 1;\n                    const n2 = Math.floor(Math.random() * 10) + 1;\n                    captchaQuestion.textContent = `${n1} + ${n2}`;\n                    \n                }, 1500); // 1.5 секунды задержка\n            }\n        });\n    }\n\n    // =========================================\n    // 6. COOKIE POPUP LOGIC\n    // =========================================\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieAcceptBtn = document.getElementById('cookie-accept');\n\n    if (cookiePopup && cookieAcceptBtn) {\n        // Проверяем, есть ли запись в LocalStorage\n        if (!localStorage.getItem('cookieAccepted')) {\n            // Если нет, показываем через 2.5 секунды\n            setTimeout(() => {\n                cookiePopup.classList.add('active');\n            }, 2500);\n        }\n\n        cookieAcceptBtn.addEventListener('click', () => {\n            // Сохраняем согласие\n            localStorage.setItem('cookieAccepted', 'true');\n            // Скрываем попап\n            cookiePopup.classList.remove('active');\n        });\n    }\n\n});"],"names":["raf","time","lenis","t","navMenu","navToggle","navClose","navLinks","link","yearSpan","header","heroTitle","heroSection","heroVisual","e","x","y","form","captchaQuestion","num1","num2","correctAnswer","submitBtn","successMsg","input","isValid","nameInput","emailInput","phoneInput","captchaInput","n1","n2","cookiePopup","cookieAcceptBtn"],"mappings":"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"}